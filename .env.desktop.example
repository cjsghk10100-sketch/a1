# Copy this file to ".env.desktop" for local desktop runs.
# Do not commit ".env.desktop".

# API runtime
DATABASE_URL=postgres://agentapp:agentapp@localhost:5432/agentapp
AUTH_REQUIRE_SESSION=1
AUTH_ALLOW_LEGACY_WORKSPACE_HEADER=0
AUTH_SESSION_SECRET=replace-with-a-long-random-string
# Optional dedicated secret for engine token hashing.
# ENGINE_TOKEN_SECRET=replace-with-another-long-random-string
AUTH_SESSION_ACCESS_TTL_SEC=3600
AUTH_SESSION_REFRESH_TTL_SEC=2592000

# Desktop runtime profile
DESKTOP_RUNNER_MODE=embedded
DESKTOP_API_PORT=3000
DESKTOP_WEB_PORT=5173
DESKTOP_API_START_TIMEOUT_MS=45000
DESKTOP_WEB_START_TIMEOUT_MS=45000
DESKTOP_RESTART_MAX_ATTEMPTS=5
DESKTOP_RESTART_BASE_DELAY_MS=1000
DESKTOP_RESTART_MAX_DELAY_MS=30000
DESKTOP_NO_WINDOW=0
DESKTOP_EXIT_AFTER_READY=0

# External engine mode (used when DESKTOP_RUNNER_MODE=external)
DESKTOP_ENGINE_WORKSPACE_ID=ws_dev
# Optional: restrict external engine claims to one room
DESKTOP_ENGINE_ROOM_ID=
DESKTOP_ENGINE_ACTOR_ID=desktop_engine
DESKTOP_ENGINE_POLL_MS=1200
DESKTOP_ENGINE_MAX_CLAIMS_PER_CYCLE=1
