# Example environment variables (do not commit real secrets)
#
# Create a local `.env` for development (never commit `.env`).

PORT=3000
DATABASE_URL=postgres://agentapp:agentapp@localhost:5432/agentapp

# Policy kill-switches (set to 1/true to activate)
POLICY_KILL_SWITCH_EXTERNAL_WRITE=0

# Run worker mode (choose one local mode)
# 0: disable embedded worker (use `pnpm -C apps/api runs:worker:watch` separately)
# 1: enable worker loop inside API process
RUN_WORKER_EMBEDDED=0
# Worker polling interval in milliseconds (when embedded mode is enabled)
RUN_WORKER_POLL_MS=1000
# Optional worker tuning
# RUN_WORKER_BATCH_LIMIT=5
# RUN_WORKER_WORKSPACE_ID=ws_dev

# Auth/session enforcement (local owner account + bearer session)
AUTH_REQUIRE_SESSION=1
AUTH_ALLOW_LEGACY_WORKSPACE_HEADER=0
# Set a unique secret in real environments.
AUTH_SESSION_SECRET=replace-with-a-long-random-string
# Optional setup token for first owner bootstrap in non-loopback deployments.
# AUTH_BOOTSTRAP_TOKEN=replace-with-a-random-setup-token
# Secure default is disabled. Set to 1 only for local-only bootstrap convenience.
AUTH_BOOTSTRAP_ALLOW_LOOPBACK=0
# Optional fixed passphrase used by web bootstrap/login (otherwise generated and stored locally by web client).
# VITE_AUTH_OWNER_PASSPHRASE=replace-with-a-long-random-passphrase
# Optional dedicated secret for engine token hashing (falls back to AUTH_SESSION_SECRET when omitted).
# ENGINE_TOKEN_SECRET=replace-with-another-long-random-string
# Optional refresh token for external engine bearer rotation on long-running workers.
# ENGINE_OWNER_REFRESH_TOKEN=replace-with-owner-refresh-token
AUTH_SESSION_ACCESS_TTL_SEC=3600
AUTH_SESSION_REFRESH_TTL_SEC=2592000

# Optional: enables /v1/secrets vault endpoints (app still works without this)
# SECRETS_MASTER_KEY=replace-with-a-long-random-string
